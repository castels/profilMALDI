---
title: "Untitled"
author: "Sophie Castel"
date: "4/6/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Read .txt File

```{r}
data <- read_profilm(file = "/home/sophie/profilMALDI/data/test.txt")
data
```

## Change resolution 

```{r}
data_resized <- change_res(data, xres = 120, yres = 100)
```

### Example using volcano data

```{r}

data(volcano)
z <- volcano

data <- list()
data$surface <- volcano


z_resized <- change_res(data, xres = 60, yres = 80)

data_resized <- list()
data_resized$surface <- z_resized

plot_profilm(data = data_resized, palette = 'inferno', threeD = FALSE, tolerance = 20, contour_col = "white")
```


### Try rotating data
```{r}
original_dat <- list()
original_dat$surface <- volcano

rot_dat <- list()
rot_dat$surface <- rotate.matrix(x = volcano, angle = 8, method = "bilinear")

rotrot_dat <- list()
rotrot_dat$surface <- rotate.matrix(x = rot_dat$surface, angle = -8, method = "bilinear")
rotrot_dat$surface[rotrot_dat$surface == 0] <- NA


p_o <- plot_profilm(data = original_dat, threeD = FALSE, tolerance = 5)
p_r <- plot_profilm(data = rot_dat, threeD = FALSE, tolerance = 5)
p_rr <- plot_profilm(data = rotrot_dat, threeD = FALSE, tolerance = 5)

grid.arrange(p_o,p_r,p_rr, nrow = 1)

# why are the colors different? check scale

range(original_dat$surface)
range(rotrot_dat$surface, na.rm = TRUE)

```


